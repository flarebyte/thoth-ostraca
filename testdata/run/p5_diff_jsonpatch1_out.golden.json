{
  "records": [
    {
      "locator": "a.txt",
      "meta": { "a": 1, "arr": [1, 2], "obj": { "x": 1, "y": 2 } }
    },
    { "locator": "b.txt", "meta": { "only": true } },
    { "locator": "orphan" }
  ],
  "meta": {
    "contractVersion": "1",
    "config": { "configVersion": "1", "action": "diff-meta" },
    "discovery": { "root": "testdata/repos/diff2" },
    "limits": { "maxRecordsInMemory": 10000 },
    "inputs": ["a.txt", "b.txt"],
    "metaFiles": ["a.txt.thoth.yaml", "b.txt.thoth.yaml", "orphan.thoth.yaml"],
    "diff": {
      "orphanMetaFiles": ["orphan.thoth.yaml"],
      "pairedCount": 2,
      "orphanCount": 1,
      "changedCount": 2,
      "details": [
        {
          "locator": "a.txt",
          "metaFile": "a.txt.thoth.yaml",
          "addedKeys": ["obj.z"],
          "removedKeys": ["obj.x"],
          "changedKeys": ["a", "obj.y"],
          "typeChangedKeys": ["a"],
          "arrays": [{ "path": "arr", "addedIndices": [2] }],
          "patch": [
            { "op": "replace", "path": "/a", "value": "1" },
            { "op": "replace", "path": "/arr", "value": [1, 2, 3] },
            { "op": "remove", "path": "/obj/x" },
            { "op": "replace", "path": "/obj/y", "value": 9 },
            { "op": "add", "path": "/obj/z", "value": 3 }
          ]
        },
        {
          "locator": "b.txt",
          "metaFile": "b.txt.thoth.yaml",
          "addedKeys": ["a", "arr", "obj"],
          "removedKeys": ["only"],
          "changedKeys": [],
          "patch": [
            { "op": "add", "path": "/a", "value": "1" },
            { "op": "add", "path": "/arr", "value": [1, 2, 3] },
            { "op": "add", "path": "/obj", "value": { "y": 9, "z": 3 } },
            { "op": "remove", "path": "/only" }
          ]
        }
      ],
      "orphans": ["orphan.thoth.yaml"],
      "presentCount": 2
    },
    "diffMeta": {
      "expectedPatch": {
        "a": "1",
        "arr": [1, 2, 3],
        "obj": { "y": 9, "z": 3 }
      },
      "format": "json-patch",
      "only": "all",
      "failOnChange": false
    }
  }
}
