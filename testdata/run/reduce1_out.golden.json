{
  "records": [
    {
      "locator": "a",
      "meta": { "enabled": true, "name": "A" },
      "mapped": { "locator": "a", "name": "A" },
      "shell": {
        "exitCode": 0,
        "stdout": "{\"locator\":\"a\",\"name\":\"A\"}\n",
        "stderr": ""
      },
      "post": { "exit": 0, "locator": "a" }
    }
  ],
  "meta": {
    "contractVersion": "1",
    "config": { "configVersion": "v0", "action": "nop" },
    "discovery": { "root": "testdata/repos/yaml1" },
    "limits": { "maxRecordsInMemory": 10000 },
    "lua": {
      "filterInline": "return (meta and meta.enabled) == true",
      "mapInline": "return { locator = locator, name = meta and meta.name }",
      "postMapInline": "return { locator = locator, exit = (shell and shell.exitCode) }",
      "reduceInline": "return (acc or 0) + 1"
    },
    "shell": {
      "enabled": true,
      "program": "sh",
      "argsTemplate": ["-c", "echo '{json}'"],
      "workingDir": ".",
      "timeoutMs": 60000,
      "capture": { "stdout": true, "stderr": true, "maxBytes": 1048576 },
      "strictTemplating": true,
      "killProcessGroup": true,
      "termGraceMs": 2000
    },
    "reduced": 1
  }
}
