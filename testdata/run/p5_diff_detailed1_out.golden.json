{
  "records": [
    {
      "locator": "a.txt",
      "meta": {
        "kind": { "k": 1 },
        "rules": [{ "tags": ["a", "b"] }, { "tags": ["x"] }],
        "value": 1
      }
    },
    {
      "locator": "b.txt",
      "meta": {
        "kind": [],
        "rules": [
          { "tags": ["a", "c"] },
          { "tags": ["x", "y"] },
          { "tags": [] }
        ],
        "value": "1"
      }
    }
  ],
  "meta": {
    "contractVersion": "1",
    "config": { "configVersion": "1", "action": "diff-meta" },
    "discovery": { "root": "testdata/repos/p5_diff_arrays1" },
    "limits": { "maxRecordsInMemory": 10000 },
    "inputs": ["a.txt", "b.txt"],
    "metaFiles": ["a.txt.thoth.yaml", "b.txt.thoth.yaml"],
    "diff": {
      "orphanMetaFiles": [],
      "pairedCount": 2,
      "orphanCount": 0,
      "changedCount": 1,
      "details": [
        {
          "locator": "a.txt",
          "metaFile": "a.txt.thoth.yaml",
          "addedKeys": [],
          "removedKeys": [],
          "changedKeys": ["kind", "value"],
          "typeChangedKeys": ["kind", "value"],
          "arrays": [
            { "path": "rules", "addedIndices": [2], "changedIndices": [0, 1] }
          ],
          "changes": [
            {
              "path": "kind",
              "kind": "type-changed",
              "oldValue": { "k": 1 },
              "newValue": []
            },
            {
              "path": "rules[0]",
              "kind": "array-index-changed",
              "oldValue": { "tags": ["a", "b"] },
              "newValue": { "tags": ["a", "c"] }
            },
            {
              "path": "rules[1]",
              "kind": "array-index-changed",
              "oldValue": { "tags": ["x"] },
              "newValue": { "tags": ["x", "y"] }
            },
            { "path": "rules[2]", "kind": "added", "newValue": { "tags": [] } },
            {
              "path": "value",
              "kind": "type-changed",
              "oldValue": 1,
              "newValue": "1"
            }
          ]
        },
        {
          "locator": "b.txt",
          "metaFile": "b.txt.thoth.yaml",
          "addedKeys": [],
          "removedKeys": [],
          "changedKeys": []
        }
      ],
      "presentCount": 2
    },
    "diffMeta": {
      "expectedPatch": {
        "kind": [],
        "rules": [
          { "tags": ["a", "c"] },
          { "tags": ["x", "y"] },
          { "tags": [] }
        ],
        "value": "1"
      },
      "format": "detailed",
      "only": "all",
      "failOnChange": false
    }
  }
}
